sudo: false
language: node_js
node_js:
- 6.9.0
before_script:
- gem install scss_lint -v 0.49.0
- gem install compass normalize-scss breakpoint susy
script:
- npm run build
- npm run coverage
notifications:
  slack:
    secure: KxP+fsA7PMmmoS+/F+8Sg0U7EZR0C2y4/QK4PL5XvgYqjesqWhA6VXBfh+UC3QjXozLEHHgIcknYpypnTHoR/yHISDS2yUj9rcYhuwa1qTYzuTuFrgWAAAXUVfe0tuCLqMIAOprUMAzKCkExpimgTbotiSbH25ZsPof4iDB8e3ItSO1dJ9khakFswCBCzrBeBMZBKByANBlk2NvKvZnsnem+gjcRgHwDROfIgeqWhZxlgrULHkRGaAS1+/7UzHg6fM5VzB3e8s+v+AVOU+Td89M2M75ec2PtE0rxPzpJzTszUR4qGFpa3ofWXc4h0pVMTx6iwklTEw+W84FiFKI2ce2nhMzavJplvM/YNvaj7t/LGd6rR+Vqp3wOb5WHaZ6dvul8388PCk7OEKynN9tZe0KdgfA5T2cCL7SvJwwygmmnbWc7acUBYivl9wOFE6gY/QNXZ7jtMKbagrDQsggMP2aVQNrAsLkXHAm0JhZRjOfaaERrFLhaXHzlJEzJ4vClDVzBiBw0XzYKkjHCK6d9ZEtZNhM5GIA0sbf39HMtM3+blllpgOakY+/NgvTtDymCLcxNj4TfQDEPnJV8oMzT5pm9Av1fv79z9b3T4bUKkOJa7pQo1y281sL98MyRwOqtSxPJpsFodZFAKJJGTKerQA+1d6+d/KY/8DAh1v491js=
env:
  global:
    secure: VwesyyyQuGgyjXYktKZW6YLa/OZnhnxw3LtrboshRC/5sc/TLtvN4QbIewUnN6wsczpBhwQXqGTBmDGr2fZx2oj7BEN5yhTpsE1YBmKU9t+YW2o0IsIpWIMfAmryHMieF8qNb8uSQQRcDMkEtgIlmvy8EEsZm1wfJy6jfKHtkxfJHPkvfwj+gvvKKz+6WK/JHQrmhlU5W5AdJfY5H6ZGbLpr2Km1fNb4DY/9T/gHwBHDHOsodPS786E6KWjBaefORIkgvHzWOVXV/hTQmPU14PuBEVjbGDyr09oNmqr6VcNuui963f6Osux8NlkVzG2f/boEmHKf2DLIay+LpLAv/IWHBE2b8bLdlYNpWZpw04V8cSxN4xJag444CRQRZbWPbp2nEJF3yYv+lCyHIp0SZpJj2ZTypLY7KfNFpsm7ZVBDeSf9Wcqk2Yuz5JZ7A3y+flCO3EgBlvFEMBM6/Xn9l9/FNLOohso1+UxnzGyPzDBfgHi08clN29KuEFz4Bu7elompGHNipw9co1284H00R0m3p8CZVMhEKZONYPo0R6cplZAShkqjnD2DivPIHS4+nzdOLNWrJmPt4orRx8zY7gYo42XBWvqljefViJVGtVvnysX6pUxvh4Ie8JLeNBxGdKuKypAe85Wk2Ak6m2cB2ZLu3ZARLpuYeETq5iazqBA=
before_deploy:
- npm run build
deploy:
  provider: npm
  email: deployment@dhis2.org
  skip_cleanup: true
  api_key:
    secure: Nw5CEBHj4NwJT2o+0eBJEJitgXI/jg2BoWIl4w6pqz+g0ho/p5eAYMx7yT6l7fv8T2gpU3tAqHR0vu/zn2xtTXMyL6kFG8tOsy4eFf0zRy1zTjoa2FmeKP7SjgJD48fXGxhczQyu+RQKI1/9gRu9LOi30GpbeeY0vQhF3Tk1vdlj5lgxVxoIciWUsK4RGx8uJhyYqXync7UpoknHnVevkerJfOSoEY8WfwB6sG5/buxIKo9ggUho1A9AAK8ix+7LD3f/yShqeeaRF135Z8XA3rXQjJ/DUJgI2DllI3UfTbDbSMAUIe4r30hWGzQxt75gcVhkSq0hxSVnqMltAEgqrjoYyiTcGEmrwSwfvv/6WzHS7U/JmYJtHF0U9zuc7wPGPx1po9qPRWN7dld1xUpANGrIWG0qMMUDCkts2+iDjx3CpKXWkcZU0aRXSnhaCq4uk6fdfYVEFuhGDJj1qS8+m03tVBA8lLC1cVjN78IPGgyj2DacVFUG4uhxiw2Blu8fOvVRn/yskn3OmPrbN9/bwvy/Vcc4w8soa4+NbU3/uvxP823GqRBKycVOb73xrEXhcXqK5kV8Md9hA9imPNHLZ3yNC9bCC8Z6uoTBc68tyf6h3fEcWe1icpsrbLcTfzes+S4SPvHjhFzUDJI0/20vrc6w5sAKl1gKUqioUdO9L68=
  on:
    tags: true
    repo: dhis2/d2-ui
